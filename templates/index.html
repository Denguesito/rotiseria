{% extends "base.html" %}

{% block contenido %}

{% for categoria, productos in productos_por_categoria.items %}
<section>
    <h2>{{ categoria }}</h2>
    <button onclick="toggleSubmenu('{{ categoria }}')">Ver Opciones</button>
    <ul id="submenu-{{ categoria }}" style="display: none;">
        {% for producto in productos %}
        <li>
            <h3>{{ producto.nombre }}</h3>
            <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" style="max-width: 150px;">
            <p>{{ producto.descripcion }}</p>
            <p>Precio: ${{ producto.precio }}</p>
            <button>Pedir</button>
        </li>
        {% endfor %}
    </ul>
</section>
{% endfor %}

<script>
function toggleSubmenu(categoria) {
    const submenu = document.getElementById(`submenu-${categoria}`);
    if (submenu.style.display === 'none') {
        submenu.style.display = 'block';
    } else {
        submenu.style.display = 'none';
    }
}
</script>
{% endblock contenido %}