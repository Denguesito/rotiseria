{% extends "base.html" %}

{% load static %}

{% block contenido %}

{% for categoria, productos in productos_por_categoria.items %}
<section>
    <!-- Usamos la imagen y el título como botón -->
    <button onclick="toggleSubmenu('{{ categoria }}')" style="background: none; border: none; cursor: pointer;">
        <img src="{% static imagenes_categorias.categoria %}" alt="{{ categoria }}" style="width:150px; height:150px;">


        <h2>{{ categoria }}</h2>
    </button>
    <ul id="submenu-{{ categoria }}" style="display: none;">
        {% for producto in productos %}
        <li>
            <h3>{{ producto.nombre }}</h3>
            <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" style="max-width: 150px;">
            <p>{{ producto.descripcion }}</p>
            <p>Precio: ${{ producto.precio }}</p>
            <button>Pedir</button>
        </li>
        {% endfor %}
    </ul>
</section>
{% endfor %}

<script>
function toggleSubmenu(categoria) {
    const submenu = document.getElementById(`submenu-${categoria}`);
    if (submenu.style.display === 'none') {
        submenu.style.display = 'block';
    } else {
        submenu.style.display = 'none';
    }
}
</script>
{% endblock contenido %}